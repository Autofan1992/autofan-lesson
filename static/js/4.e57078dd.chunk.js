/*! For license information please see 4.e57078dd.chunk.js.LICENSE.txt */
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{287:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(92);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,s=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){s=!0,a=c}finally{try{r||null==o.return||o.return()}finally{if(s)throw a}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},290:function(e,t,n){e.exports={usersList:"Users_usersList__1cF-G",userBlock:"Users_userBlock__37yxE",userItem:"Users_userItem__1gg2S",itemRight:"Users_itemRight__XMpiE",userLeft:"Users_userLeft__3HapX",profileAvatar:"Users_profileAvatar__3lj5x",userRight:"Users_userRight__1XbD9"}},293:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__2GLPD",usersPagination:"Paginator_usersPagination__RFOEC"}},294:function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var i=s.apply(null,r);i&&e.push(i)}else if("object"===a)for(var o in r)n.call(r,o)&&r[o]&&e.push(o)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},298:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(15),a=n(126),i=n(290),o=n.n(i),c=n(47),l=n(16),u=n(93);var g=function(e){var t=e.user,n=e.toggleFollowing,s=e.followingInProgress;return e.onPageChanged,Object(r.jsxs)("div",{className:o.a.userBlock,children:[Object(r.jsxs)("div",{className:o.a.userLeft,children:[Object(r.jsx)("div",{children:Object(r.jsx)(l.b,{to:"/profile/"+t.id,className:o.a.profileAvatar,children:Object(r.jsx)("img",{src:t.photos.small?t.photos.small:u.a,alt:""})})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"btn btn-info",onClick:function(){return n(t.id,t.followed)},disabled:s.some((function(e){return e===t.id}))&&"disabled",children:t.followed?"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f":"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})})]}),Object(r.jsx)("div",{className:o.a.userRight,children:Object(r.jsxs)("div",{className:o.a.userItem,children:[Object(r.jsx)("div",{children:t.name}),Object(r.jsx)("div",{children:t.status})]})})]},t.id)},f=n(95),d=n(287),j=n(293),h=n.n(j),p=n(1),b=n(294),m=n.n(b);var v=function(e){for(var t=e.onPageChanged,n=e.currentPage,s=e.pageSize,a=e.totalItemsCount,i=e.portionSize,o=void 0===i?5:i,c=Math.ceil(a/s),l=[],u=1;u<=c;u++)l.push(u);var g=Math.ceil(c/o),j=Object(p.useState)(1),b=Object(d.a)(j,2),v=b[0],P=b[1],x=(v-1)*o+1,O=v*o;return Object(r.jsx)("nav",{"aria-label":"Page navigation",className:"mt-5",children:Object(r.jsxs)("ul",{className:"pagination justify-content-center ".concat(h.a.usersPagination),children:[v>1&&Object(r.jsx)("li",{className:"page-item prev",onClick:function(){P(v-1)},children:Object(r.jsx)("span",{className:"page-link","aria-hidden":"true",children:"\xab"})}),l.filter((function(e){return e>=x&&e<=O})).map((function(e){return Object(r.jsx)("li",{className:m()("page-item",Object(f.a)({},h.a.selectedPage,n===e)),children:Object(r.jsx)("span",{className:"page-link",onClick:function(){t(e,s)},children:e})},e)})),g>v&&Object(r.jsx)("li",{className:"page-item next",onClick:function(){P(v+1)},children:Object(r.jsx)("span",{className:"page-link","aria-hidden":"true",children:"\xbb"})})]})})};var P=function(e){var t=e.users,n=e.isFetching,s=e.toggleFollowing,a=e.followingInProgress,i=e.onPageChanged,l=e.currentPage,u=e.pageSize,f=e.totalUsersCount;return Object(r.jsxs)("div",{className:o.a.usersList,children:[n?Object(r.jsx)(c.a,{}):t.map((function(e){return Object(r.jsx)(g,{user:e,toggleFollowing:s,followingInProgress:a},e.id)})),Object(r.jsx)(v,{onPageChanged:i,currentPage:l,pageSize:u,totalItemsCount:f})]})},x=function(e){return e.usersPage.users},O=function(e){return e.usersPage.pageSize},_=function(e){return e.usersPage.totalUsersCount},y=function(e){return e.usersPage.currentPage},w=function(e){return e.usersPage.isFetching},C=function(e){return e.usersPage.followingInProgress};t.default=Object(s.b)((function(e){return{users:x(e),currentPage:y(e),pageSize:O(e),totalUsersCount:_(e),followingInProgress:C(e),isFetching:w(e)}}),{followUserToggle:a.b,requestUsers:a.c})((function(e){var t=e.users,n=e.requestUsers,s=e.followUserToggle,a=e.isFetching,i=e.followingInProgress,o=e.currentPage,c=e.pageSize,l=e.totalUsersCount;return Object(p.useEffect)((function(){t.length||n(o,c)}),[t.length,n,o,c]),Object(r.jsx)(P,{isFetching:a,toggleFollowing:function(e,t){s(e,t)},users:t,followingInProgress:i,currentPage:o,pageSize:c,totalUsersCount:l,onPageChanged:function(e,t){n(e,t)}})}))}}]);
//# sourceMappingURL=4.e57078dd.chunk.js.map